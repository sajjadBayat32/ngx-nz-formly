<div class="nz-formly-label-top" *ngIf="props.labelPosition == 'top'">
  <ng-container *ngTemplateOutlet="Label"></ng-container>
  <ng-container #fieldComponent></ng-container>
</div>

<div class="nz-formly-label-inline" *ngIf="props.labelPosition == 'inline'">
  <div class="nz-formly-field-wrapper">
    <div [ngStyle]="{ width: props.styles?.labelWidth }">
      <ng-container *ngTemplateOutlet="Label"></ng-container>
    </div>
    <div class="flex-grow-1">
      <ng-container #fieldComponent></ng-container>
    </div>
  </div>
</div>

<div
  class="nz-formly-label-float"
  *ngIf="props.labelPosition == 'float'"
  [class.fixed]="formControl.value != null && formControl.value != ''"
>
  <ng-container #fieldComponent></ng-container>
  <ng-container *ngTemplateOutlet="Label"></ng-container>
</div>

<ng-template #Label>
  <label
    class="nz-formly-label"
    [ngClass]="props.styles?.labelClass"
    *ngIf="props.label || (props.labelObs | async)"
  >
    <span [innerHTML]="props.label || (props.labelObs | async)"></span>
    <span class="nz-formly-label-required" *ngIf="props.required">*</span>
  </label>
</ng-template>
